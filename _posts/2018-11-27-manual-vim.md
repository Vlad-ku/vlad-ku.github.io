---
layout: post
title: Еще одна памятка vim пользователя
---

В этой статье будут освещены очень полезные инструмены vim в повседневных задачах разработки.

## Метки

Работа с метками заключается в двух командах: установка метки и переход к ней. Имя метки может быть любым символом алфавита.
Если символ строчный - метка локальная и действует в пределах одного файла.
Если символ прописной - метка глобальная и действует для всего проекта.

```
m<имя метки> - установка метки
`<имяметки>  - переход к метке
```

Существует еще метка, доступная только для перехода.

```
`. - переход к метке последнего редактирования
```

## Поиск

Поиск текущему файлу осуществляется регулярными выражениями.

```
/<текстпоиска> - для поиска вперед
?<текстпоиска> - для поиска назад
*              - для поиска текущего слова
```

В режиме поиска работают следующие клавиши:

```
n    - следующее вхождение
N    - предыдущее вхождение
:noh - отключение подсветки
```

## Замена

Для замены работают такие же правила, как для поиска.

```
:%s/hello/world/gc

:%s   - замена
hello - заменяемое слово
world - новое слово
g     - глобальный флаг
c     - с подтверждением
```

## Регистры

1. Безымянный регистр `""` - в регистр попадает все, что копируется (исключение: `"_`)
1. 10 нумерованных регистров `"0` - `"9`
  - `"0` - последний *скопированный* текст *без указания регистра*
  - `"1` - последний *удаленный* текст *без указания регистра* и *содержит как минимум полную строку*
  - `"2` - `"9` - содержат историю регистра `"1` в режиме стека
1. Маленький регистр `"-` - аналогичен `"1` только когда *меньше полной строки*
1. 26 именованных регистра `"a` - `"z` или `"A` - `"Z` (для накопления используются заглавные)
1. Регистры только для чтения `":`, `".`, `"%` и `"#`
  - `":` - последнее содержимое командной строки
  - `".` - последний вставленный текст
  - `"%` - имя текущего файла
  - `"#` - имя альтернативного файла (редактировался перед текущим)
1. Регистр выражений `"=` (подсчитывается при вводе)
1. Регистры общения с внешним миром `"*`, `"+` и `"~`
  - `"*` - выделенный текст во внешнем приложении
  - `"+` - скопированный текст во внешнем приложении
  - `"~` - текст, который был "перетащен" в окно
1. Регистр черная дыра `"_` (не затрагивает другие регистры)
1. Регистр последнего поиска `"/`

## Работа с окнами

Ctrl+w n - новое окно
Ctrl+w h/l/j/k - перемещение между окнами
Сtrl-w o — развернуть окно
Ctrl-w c — закрыть
Ctrl-w s — разделить окно по горизонтали
Ctrl-w v — тоже, только по вертикали
Ctrl-w ] — разделить и перейти на определение чего-то, что под курсором
Ctrl-w f — разделить и в новом окне открыть файл путь к которому находится под курсором, очень удобно делать на инклюдах

di" - удалить текст внутри кавычек
dit - удалить текст внутри тегов (нужен плагин)

в nerdtree
  i - открыть в горизонтальном окне
  s - открыть в вертикальном окне
  I - показать скрытые файлы

f<нужный символ> - поиск символа в текущей строке (большая F - назад)
  ; - следующий символ

t<нужный символ> - предыдущий символ (почти как f) (большая T - назад)

% - найти пару для скобочки

gf - прыгнуть к файлу, по пути

:vimgrep - поиск по проекту (:vimgrep text *)
:cnext - следующий результат
:cprev - предыдущий результат

20gg - прыгнуть к 20 строке
