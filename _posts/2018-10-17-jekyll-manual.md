---
layout: post
title: Jekyll, или самый быстрый блог на Диком Западе
---

Сегодня мы рассмотрим интересный метод создания блога с использованием сборщика Jekyll от разработчиков github. На первый взгляд идея статической сборки кажется сомнительным занятием, когда вокруг почти все сайты пишутся на wordpress, bitrix, joomla и других CMS, обязательным условием которых, является хостинг с серверным языком программирования, но такие системы имеют несколько существенных недостатков, которых лишен метод, приведенный в данной статье.

Основные минусы динамики вытекают из самого принципа работы. Рассмотрим для примера wordpress. Каждый новый запрос должен пройти путь apache -> php -> MySQL, не говоря уже о логике самого движка, которая написана не самым оптимальным образом. Ситуацию омрачает еще тот факт, что такие сайты очень подвержены различного рода атакам, как в плане взлома, так и в плане падения.

## Начало работы

Jekyll - это генератор статических сайтов, написанный и поддерживаемый командой github. Он интегрирован в платформу github pages, которая позволяет хостить сайты абсолютно бесплатно.

Для начала использования необходимо:
- установить ruby (язык программирования, на котором написан jekyll);
- настроить gem (система управления пакетами ruby);
- установить bundler (система управления зависимостями для gem);
- установить jekyll.

Подробная инструкция по установке всего вышеперечисленного для разных платформ представлена на [странице](//jekyllrb.com/docs/installation/).

Для создания нового проекта необходимо выполнить следующую команду, в результате которой, будет создана папка testblog с файлами будущего блога (выбор имени влияет только на имя папки, которое позже можно изменить):

```
jekyll new testblog
```

Для запуска сервера выполняем команду (из папки с файлами проекта):

```
jekyll s
```

## Структура папок

В новом проекте содержатся следующие файлы:
- _posts
- 404.html
- about.md
- index.md
- _config.yml
- Gemfile
- Gemfile.lock
- .gitignore

Посты (находятся в папке _posts) и страницы (к ним относятся 404.html, about.md, index.md) могут быть в формате markdown или html, в зависимости от того, какой формат удобнее для конкретной задачи.

Для конфигурирования jekyll служит файл _config.yml.

Файлы Gemfile и Gemfile.lock служат для хранения списка пакетов и их зависимостей. Первый файл изменяется пользователем, второй - собирается автоматически и служит для более точного задания списка версий пакетов.

С последним файлом вы знакомы, если работали с системой git. Если нет, можете оставить его без изменений.

## Хостинг сайта на github

Настройку хостинга следует начинать с создания нового проекта на github. Если вы планируете привязать свой домен к сайту, советую назвать проект по определенным правилам: `[username].github.io` (для одной учетной записи удастся создать только один такой проект). Такое именование позволит без лишних проблем привязать свой домен к адресу `[username].github.io`, если же назвать проект произвольно, то путь к нему будет выглядеть следующим образом: `[username].github.io/[projectname]`, как в таком случае привязать домен, тема отдельной статьи. Файлы нового блога необходимо перенести в только что созданный проект.

В настройках репозитория, в группе GitHub Pages, необходимо переключить `Source` из `none` в положение `master-branch`.

![включение github pages](/images/002-jekyll.png)

## Настройка своего домена

Для подключения своего домена необходимо настроить записи A и запись CNAME. В настройках домена указываем следующие данные:

![настройка домена github pages](/images/001-jekyll.png)

Обратите внимание на запись CNAME, в конце которой стоит точка и указан поддомен www. Зачеркнутая запись MX служит для настройки почты для домена и в данном случае не имеет отношения к общей настройке github pages.

## Заключение

Для создания блогов или простых сайтов jekyll является едва ли не лучшим решением в плане надежности, простоты и скорости работы. Среди аналогов его выделяет хорошая интеграция с github page.
